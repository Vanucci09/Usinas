{% extends 'base.html' %}
{% block title %}Monitoramento – Usinas{% endblock %}
{% block content %}
<div class="container mt-4">

  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="mb-0 text-primary">Monitoramento – Selecione a usina</h2>
    <a class="btn btn-outline-secondary" href="{{ url_for('index') }}">
      ← Voltar
    </a>
  </div>

  <ul class="list-group">
    {% for u in usinas %}
      <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
        <span class="me-2">{{ u.nome }}</span>
        <div class="d-flex flex-wrap gap-2">
          <a class="btn btn-sm btn-outline-success"
             href="{{ url_for('cadastrar_inversor_usina', usina_id=u.id) }}">
            Cadastrar inversor
          </a>
          <a class="btn btn-sm btn-outline-secondary"
             href="{{ url_for('analise_diaria', usina_id=u.id) }}">
            Análise diária
          </a>
          <a class="btn btn-sm btn-outline-primary"
             href="{{ url_for('inserir_geracao_inversor', usina_id=u.id) }}">
            Inserir geração
          </a>          
          <a class="btn btn-sm btn-primary"
             href="{{ url_for('monitoramento_usina', usina_id=u.id) }}">
            Abrir monitoramento
          </a>
        </div>
      </li>
    {% else %}
      <li class="list-group-item text-muted">Nenhuma usina cadastrada.</li>
    {% endfor %}
  </ul>
</div>
{% endblock %}
